(function(e){function t(t){for(var o,s,i=t[0],l=t[1],p=t[2],m=0,u=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);c&&c(t);while(u.length)u.shift()();return n.push.apply(n,p||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},r={app:0},n=[];function s(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"6cadf3e6"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,o){a=r[e]=[t,o]}));t.push(a[2]=o);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(e);var p=new Error;n=function(t){l.onerror=l.onload=null,clearTimeout(m);var a=r[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",p.name="ChunkLoadError",p.type=o,p.request=n,a[1](p)}r[e]=void 0}};var m=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],p=l.push.bind(l);l.push=t,l=l.slice();for(var m=0;m<l.length;m++)t(l[m]);var c=p;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},4032:function(e,t,a){"use strict";a("a73c")},"4d3d":function(e,t,a){"use strict";a("4d84")},"4d84":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("div",{staticClass:"container-fluid"},[a("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[e._v("Employee Directory")]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[a("div",{staticClass:"navbar-nav"},[a("a",{staticClass:"nav-link",attrs:{href:"/"}},[e._v("Directory")]),e.isLoggedIn()?e._e():a("a",{staticClass:"nav-link active",attrs:{"aria-current":"page",href:"/login"}},[e._v("Login")]),e.isLoggedIn()?a("a",{staticClass:"nav-link",attrs:{href:"/logout"}},[e._v("Logout")]):e._e(),a("a",{staticClass:"nav-link",attrs:{href:"employees/new"}},[e._v("Create New Employee")])])])])]),a("router-view")],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],s={methods:{isLoggedIn:function(){return!!localStorage.getItem("jwt")}}},i=s,l=(a("034f"),a("2877")),p=Object(l["a"])(i,r,n,!1,null,null,null),m=p.exports,c=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("h1",[e._v("Employees")]),a("div",{staticClass:"row row-cols-1 row-cols-md-6 g-4"},e._l(e.employees,(function(t){return a("div",{key:t.id},[a("div",{staticClass:"col"},[a("div",{staticClass:"card"},[a("router-link",{attrs:{to:"/employees/"+t.id}},[a("img",{staticClass:"thumbnail",attrs:{src:t.picture,alt:""}})]),a("div",{staticClass:"card-body"},[a("h4",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),a("p",[e._v(e._s(t.gender))]),a("p",[e._v(e._s(t.email))]),a("p",[e._v(e._s(t.phone))]),a("p",[e._v(e._s(t.job_title))])])],1)])])})),0)])},d=[],v=a("bc3a"),f=a.n(v),y={data:function(){return{employees:[]}},created:function(){this.employeeIndex()},methods:{employeeIndex:function(){var e=this;f.a.get("https://pacific-thicket-40492.herokuapp.com/employees").then((function(t){e.employees=t.data,console.log(t.data)}))}}},g=y,h=Object(l["a"])(g,u,d,!1,null,null,null),b=h.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"col-4"}),a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{attrs:{src:e.employee.picture,alt:""}}),a("div",{staticClass:"card-body"},[a("h2",[e._v(e._s(e.employee.first_name)+" "+e._s(e.employee.last_name))])]),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[e._v(e._s(e.employee.gender))]),a("li",{staticClass:"list-group-item"},[e._v(e._s(e.employee.email))]),a("li",{staticClass:"list-group-item"},[e._v(e._s(e.employee.phone))]),a("li",{staticClass:"list-group-item"},[e._v(e._s(e.employee.job_title))])]),a("div",{staticClass:"card-body"},[a("router-link",{attrs:{to:"/"}},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[e._v("Back")])]),e.isLoggedIn()?a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return e.editModal()}}},[e._v("Edit")]):e._e(),e.isLoggedIn()?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.deleteModal()}}},[e._v("Delete")]):e._e()],1)]),a("dialog",{attrs:{id:"edit"}},[a("form",{attrs:{method:"dialog"}},[a("h1",[e._v("Edit Employee")]),a("p",[e._v("First Name:")]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEmployeeParams.first_name,expression:"editEmployeeParams.first_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First Name","aria-label":"First Name","aria-describedby":"addon-wrapping"},domProps:{value:e.editEmployeeParams.first_name},on:{input:function(t){t.target.composing||e.$set(e.editEmployeeParams,"first_name",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEmployeeParams.last_name,expression:"editEmployeeParams.last_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Last Name","aria-label":"Last Name","aria-describedby":"addon-wrapping"},domProps:{value:e.editEmployeeParams.last_name},on:{input:function(t){t.target.composing||e.$set(e.editEmployeeParams,"last_name",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEmployeeParams.gender,expression:"editEmployeeParams.gender"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Gender","aria-label":"Gender","aria-describedby":"addon-wrapping"},domProps:{value:e.editEmployeeParams.gender},on:{input:function(t){t.target.composing||e.$set(e.editEmployeeParams,"gender",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEmployeeParams.email,expression:"editEmployeeParams.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email","aria-label":"Email","aria-describedby":"addon-wrapping"},domProps:{value:e.editEmployeeParams.email},on:{input:function(t){t.target.composing||e.$set(e.editEmployeeParams,"email",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEmployeeParams.phone,expression:"editEmployeeParams.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Phone","aria-label":"Phone","aria-describedby":"addon-wrapping"},domProps:{value:e.editEmployeeParams.phone},on:{input:function(t){t.target.composing||e.$set(e.editEmployeeParams,"phone",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEmployeeParams.picture,expression:"editEmployeeParams.picture"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Picture URL","aria-label":"Picture URL","aria-describedby":"addon-wrapping"},domProps:{value:e.editEmployeeParams.picture},on:{input:function(t){t.target.composing||e.$set(e.editEmployeeParams,"picture",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editEmployeeParams.department_code,expression:"editEmployeeParams.department_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Department Code","aria-label":"Department Code","aria-describedby":"addon-wrapping"},domProps:{value:e.editEmployeeParams.department_code},on:{input:function(t){t.target.composing||e.$set(e.editEmployeeParams,"department_code",t.target.value)}}})]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){return e.closeModal()}}},[e._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.editEmployee()}}},[e._v("Edit Employee")])])]),a("dialog",{attrs:{id:"delete"}},[a("form",{attrs:{method:"dialog"}},[a("h1",[e._v("Are you sure you want to delete this employee?")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.deleteEmployee()}}},[e._v("Yes")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){return e.closeModal()}}},[e._v("No")])])])])},_=[],P={data:function(){return{employee:{},editEmployeeParams:{}}},created:function(){this.employeeShow()},methods:{employeeShow:function(){var e=this;f.a.get("https://pacific-thicket-40492.herokuapp.com/employees/"+this.$route.params.id).then((function(t){e.employee=t.data,console.log(t.data)}))},editModal:function(){var e=this;console.log("Editing Employee"),f.a.get("https://pacific-thicket-40492.herokuapp.com/employees/"+this.employee.id).then((function(t){console.log(t.data),e.editEmployeeParams=t.data})),document.querySelector("#edit").showModal()},editEmployee:function(){var e=this;f.a.patch("https://pacific-thicket-40492.herokuapp.com/employees/"+this.employee.id,this.editEmployeeParams).then((function(t){console.log(t.data),e.$router.go()}))},closeModal:function(){this.$router.go()},deleteModal:function(){console.log("Deleting Employee"),document.querySelector("#delete").showModal()},deleteEmployee:function(){var e=this;f.a.delete("https://pacific-thicket-40492.herokuapp.com/employees/"+this.employee.id).then((function(t){console.log(t.data),e.$router.push("/")}))},isLoggedIn:function(){return!!localStorage.getItem("jwt")}}},E=P,C=(a("4d3d"),Object(l["a"])(E,w,_,!1,null,null,null)),x=C.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("h1",[e._v("Login")]),e._l(e.errors,(function(t){return a("li",{key:t.id},[e._v(" "+e._s(t)+" ")])})),a("form",{on:{submit:function(t){return t.preventDefault(),e.Login()}}},[a("p",[e._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSessionParams.email,expression:"newSessionParams.email"}],attrs:{type:"text"},domProps:{value:e.newSessionParams.email},on:{input:function(t){t.target.composing||e.$set(e.newSessionParams,"email",t.target.value)}}}),a("p",[e._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSessionParams.password,expression:"newSessionParams.password"}],attrs:{type:"password"},domProps:{value:e.newSessionParams.password},on:{input:function(t){t.target.composing||e.$set(e.newSessionParams,"password",t.target.value)}}}),a("p"),a("input",{attrs:{type:"submit"}})])],2)},N=[],$={data:function(){return{newSessionParams:{},errors:[]}},methods:{Login:function(){var e=this;f.a.post("https://pacific-thicket-40492.herokuapp.com/sessions",this.newSessionParams).then((function(t){console.log(t.data),f.a.defaults.headers.common["Authorization"]="Bearer "+t.data.jwt,localStorage.setItem("jwt",t.data.jwt),localStorage.setItem("user_id",t.data.user_id),e.$router.push("/")})).catch((function(t){console.log(t.response),e.errors=["Invalid email or password"]}))}}},j=$,S=Object(l["a"])(j,k,N,!1,null,null,null),L=S.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Logout"})},M=[],I={created:function(){delete f.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),this.$router.push("/")}},D=I,A=Object(l["a"])(D,O,M,!1,null,null,null),T=A.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"employeeNew"},[a("h1",[e._v("Create a new employee")]),401==e.status?a("p",[e._v("You must be logged in to create an employee")]):e._e(),e._l(e.errors,(function(t){return a("li",{key:t},[e._v(" "+e._s(t)+" ")])})),a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createEmployee()}}},[a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployeeParams.first_name,expression:"newEmployeeParams.first_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First Name","aria-label":"First Name","aria-describedby":"addon-wrapping"},domProps:{value:e.newEmployeeParams.first_name},on:{input:function(t){t.target.composing||e.$set(e.newEmployeeParams,"first_name",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployeeParams.last_name,expression:"newEmployeeParams.last_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Last Name","aria-label":"Last Name","aria-describedby":"addon-wrapping"},domProps:{value:e.newEmployeeParams.last_name},on:{input:function(t){t.target.composing||e.$set(e.newEmployeeParams,"last_name",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployeeParams.gender,expression:"newEmployeeParams.gender"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Gender","aria-label":"Gender","aria-describedby":"addon-wrapping"},domProps:{value:e.newEmployeeParams.gender},on:{input:function(t){t.target.composing||e.$set(e.newEmployeeParams,"gender",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployeeParams.email,expression:"newEmployeeParams.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email","aria-label":"Email","aria-describedby":"addon-wrapping"},domProps:{value:e.newEmployeeParams.email},on:{input:function(t){t.target.composing||e.$set(e.newEmployeeParams,"email",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployeeParams.phone,expression:"newEmployeeParams.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Phone","aria-label":"Phone","aria-describedby":"addon-wrapping"},domProps:{value:e.newEmployeeParams.phone},on:{input:function(t){t.target.composing||e.$set(e.newEmployeeParams,"phone",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployeeParams.picture,expression:"newEmployeeParams.picture"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Picture URL","aria-label":"Picture URL","aria-describedby":"addon-wrapping"},domProps:{value:e.newEmployeeParams.picture},on:{input:function(t){t.target.composing||e.$set(e.newEmployeeParams,"picture",t.target.value)}}})]),a("div",{staticClass:"input-group flex-nowrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployeeParams.department_code,expression:"newEmployeeParams.department_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Department Code","aria-label":"Department Code","aria-describedby":"addon-wrapping"},domProps:{value:e.newEmployeeParams.department_code},on:{input:function(t){t.target.composing||e.$set(e.newEmployeeParams,"department_code",t.target.value)}}})]),a("input",{attrs:{type:"submit"}})])])],2)},G=[],R={data:function(){return{newEmployeeParams:{department_code:1},errors:[],status:""}},methods:{createEmployee:function(){var e=this;f.a.post("https://pacific-thicket-40492.herokuapp.com/employees",this.newEmployeeParams).then((function(t){console.log(t.data),e.$router.push("/")})).catch((function(t){console.log(t.response),e.errors=t.response.data.errors,e.status=t.response.status}))}}},U=R,q=(a("4032"),Object(l["a"])(U,F,G,!1,null,null,null)),z=q.exports;o["a"].use(c["a"]);var B=[{path:"/",name:"Home",component:b},{path:"/employees/new",name:"EmployeeNew",component:z},{path:"/employees/:id",name:"EmployeeShow",component:x},{path:"/login",name:"Login",component:L},{path:"/logout",name:"Logout",component:T},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],J=new c["a"]({mode:"history",base:"/",routes:B}),Y=J;o["a"].config.productionTip=!1;var H=localStorage.getItem("jwt");H&&(f.a.defaults.headers.common["Authorization"]="Bearer "+H),new o["a"]({router:Y,render:function(e){return e(m)}}).$mount("#app")},"85ec":function(e,t,a){},a73c:function(e,t,a){}});
//# sourceMappingURL=app.9584287e.js.map